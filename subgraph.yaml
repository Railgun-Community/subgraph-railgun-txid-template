specVersion: 0.0.5
schema:
  file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: RailgunSmartWallet
    network: arbitrum-goerli
    source:
      abi: RailgunSmartWallet
      address: "0xA0603e598F9Ac2fc7475a3fA08D0794066615D9a"
      startBlock: 2611949
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - TransactCall
        - Transaction
      abis:
        - name: RailgunSmartWallet
          file: ./abis/RailgunSmartWallet.json
        - name: PoseidonT4
          file: ./abis/PoseidonT4.json
      callHandlers:
        - function: transact((((uint256,uint256),(uint256[2],uint256[2]),(uint256,uint256)),bytes32,bytes32[],bytes32[],(uint16,uint72,uint8,uint64,address,bytes32,(bytes32[4],bytes32,bytes32,bytes,bytes)[]),(bytes32,(uint8,address,uint256),uint120))[])
          handler: handleTransactionCall
        - function: transact((((uint256,uint256),(uint256[2],uint256[2]),(uint256,uint256)),uint256,uint256[],uint256[],(uint16,uint8,address,bytes32,(uint256[4],uint256[2],uint256[])[]),(uint256,(uint8,address,uint256),uint120),address)[])
          handler: handleLegacyTransactionCall
      file: ./src/railgun-smart-wallet-events.ts
